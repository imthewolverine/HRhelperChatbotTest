(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1139:function(e,t,r){Promise.resolve().then(r.bind(r,2740))},2740:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(7437),s=r(2265);let a={id:"typing",role:"assistant",content:"...",timestamp:new Date().toISOString()},l=["Жинхлэх процесс хэрхэн явагддаг вэ?","Ээлжийн амралт болон ээлжийн амралтын цалингаа хэрхэн авах вэ?"];function o(e){let{initialMessages:t,threadTitle:r,threadSubtitle:o}=e,[i,d]=(0,s.useState)(t),[c,x]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),b=(0,s.useRef)(null),f=(0,s.useMemo)(()=>[...i].sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()),[i]);async function h(){if(!c.trim())return;let e=[...i,{id:"user-".concat(Date.now()),role:"user",content:c,timestamp:new Date().toISOString()}];d(e),x(""),m(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e})});if(!t.ok)throw Error("Request failed");let r=await t.json();d(e=>[...e,r.message])}catch(e){d(e=>[...e,{id:"error-".concat(Date.now()),role:"assistant",content:"I could not reach the AI service. Showing a mock response instead.",timestamp:new Date().toISOString()}])}finally{m(!1)}}return(0,s.useEffect)(()=>{var e;null===(e=b.current)||void 0===e||e.scrollTo({top:b.current.scrollHeight,behavior:"smooth"})},[i]),(0,n.jsxs)("div",{className:"flex flex-col h-screen w-full bg-panel",children:[(0,n.jsx)("header",{className:"border-b border-border px-8 py-6 flex items-center justify-between flex-shrink-0",children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-accent text-white flex items-center justify-center text-2xl font-bold",children:"\uD83E\uDD16"}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-textPrimary",children:null!=r?r:"AI HR Agent"}),(0,n.jsx)("p",{className:"text-sm text-textSecondary max-w-2xl",children:null!=o?o:"Ask about hiring, benefits, PTO, onboarding, and HR policies."})]})]})}),(0,n.jsx)("div",{className:"border-b border-border px-8 py-4 flex flex-wrap gap-2 bg-panelMuted/60 flex-shrink-0",children:l.map(e=>(0,n.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-full border border-border text-sm font-semibold bg-white hover:border-accent/60 transition-colors",children:e},e))}),(0,n.jsxs)("div",{ref:b,className:"flex-1 overflow-y-auto p-8 space-y-5 scrollbar-thin",children:[f.map(e=>{let t="user"===e.role;return(0,n.jsxs)("div",{className:"flex flex-col gap-2 ".concat(t?"items-end":"items-start"),children:[(0,n.jsxs)("div",{className:"flex items-start gap-3 max-w-2xl ".concat(t?"flex-row-reverse":""),children:[(0,n.jsx)("div",{className:"h-10 w-10 rounded-full bg-panelMuted border border-border flex items-center justify-center text-xs font-semibold flex-shrink-0",children:t?"\uD83D\uDC64":"\uD83E\uDD16"}),(0,n.jsx)("div",{className:"rounded-2xl px-5 py-4 text-base leading-relaxed shadow-sm border ".concat(t?"bg-accent text-white border-accent rounded-br-none":"bg-panelMuted text-textPrimary border-border rounded-bl-none"),children:e.content})]}),(0,n.jsxs)("span",{className:"text-xs text-textSecondary px-3",children:[t?"You":"Agent"," \xb7 ",new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},e.id)}),u&&(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"h-10 w-10 rounded-full bg-panelMuted border border-border flex items-center justify-center text-xs flex-shrink-0",children:"\uD83E\uDD16"}),(0,n.jsx)("div",{className:"max-w-xs rounded-2xl px-5 py-4 text-base bg-panelMuted text-textSecondary border border-border rounded-bl-none animate-pulse",children:a.content})]}),(0,n.jsx)("span",{className:"text-xs text-textSecondary px-3",children:"Agent \xb7 typing…"})]})]}),(0,n.jsx)("div",{className:"border-t border-border p-6 bg-panel flex-shrink-0",children:(0,n.jsxs)("div",{className:"flex items-end gap-4 max-w-4xl mx-auto",children:[(0,n.jsx)("button",{className:"h-11 w-11 rounded-lg border border-border bg-panelMuted hover:border-accent/60 flex items-center justify-center flex-shrink-0 text-lg",children:"\uD83D\uDCCE"}),(0,n.jsx)("input",{className:"flex-1 rounded-xl border border-border px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-accent/60 bg-panelMuted",placeholder:"Ask the HR agent...",value:c,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())}}),(0,n.jsx)("button",{onClick:h,disabled:u,className:"h-11 px-6 rounded-lg bg-accent text-white text-base font-semibold hover:opacity-90 disabled:opacity-50 flex-shrink-0",children:"Send"})]})})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1139)}),_N_E=e.O()}]);